import{j as r}from"./jsx-runtime.C-wpX9Mq.js";import{r as g}from"./index.BKN2WBQQ.js";const w=(()=>{const d=[],m=[" ",".",":","-","=","+","*","#","%","@"],h=o=>{const a=Math.floor(o*(m.length-1));return m[Math.min(a,m.length-1)]};for(let o=0;o<40;o++){const a=4+o/8,u=a+5,n=o*Math.PI/10,l=[];for(let i=-15;i<=15;i++){let c="";for(let f=-40;f<=40;f++){const e=f*.5,t=i,s=Math.sqrt(e*e+t*t);if(s<a)c+=" ";else if(s<a+.8)c+="@";else{const p=Math.atan2(t,e),x=Math.sin(s-a-n*2)*.5+.5,b=Math.sin(p*2+s*.5-n*3)*.5+.5;if(s<u+10){const y=x*b/(s*.1);y>.4?c+=h(y):y>.1?c+=".":c+=" "}else c+=" "}}l.push(c)}d.push(l)}for(let o=0;o<5;o++){const a=[],u=5-o;for(let n=-15;n<=15;n++){let l="";for(let i=-40;i<=40;i++){const c=i*.5,f=n;Math.sqrt(c*c+f*f)<u?l+="@":l+=" "}a.push(l)}d.push(a)}for(let o=0;o<20;o++){const a=[],u=o*4;for(let n=-15;n<=15;n++){let l="";for(let i=-40;i<=40;i++){const c=i*.5,f=n,e=Math.sqrt(c*c+f*f);Math.abs(e-u)<2?l+=m[Math.floor(Math.random()*m.length)]:e<u&&Math.random()>.85?l+=".":l+=" "}a.push(l)}d.push(a)}for(let o=0;o<35;o++){const a=[],u=.98+o*5e-4;for(let n=-15;n<=15;n++){let l="";for(let i=-40;i<=40;i++)Math.random()>u?l+=Math.random()>.5?"*":".":l+=" ";a.push(l)}d.push(a)}return d})(),k=()=>{const[d,m]=g.useState(""),[h,o]=g.useState([{command:"",output:'Bienvenue sur le terminal de Tom Moreau. Tapez "help" pour voir les commandes disponibles.'}]),[a,u]=g.useState(!1),n=g.useRef(null),l=g.useRef(null);g.useEffect(()=>{n.current&&(n.current.scrollTop=n.current.scrollHeight)},[h]);const i=async()=>{u(!0),o(e=>[...e,{command:"./blackhole",output:w[0]}]);for(let e=1;e<w.length;e++)await new Promise(t=>setTimeout(t,40)),o(t=>{const s=[...t];return s[s.length-1]={command:"./blackhole",output:w[e]},s});await new Promise(e=>setTimeout(e,500)),window.location.href="/easter-egg",u(!1)},c=e=>{if(a){e.preventDefault();return}if(e.key==="Tab"){e.preventDefault();const t=["help","ls","whoami","clear","cat","./blackhole"],s=["about.txt","competences.txt","projets.txt","contact.txt","blackhole"],p=d.trim().toLowerCase();if(p.startsWith("./")){const x=p.slice(2);"blackhole".startsWith(x)&&m("./blackhole")}else if(p.startsWith("cat ")){const x=p.slice(4),b=s.find(y=>y.startsWith(x));b&&m(`cat ${b}`)}else{const x=t.find(b=>b.startsWith(p));x&&m(x)}}},f=e=>{e.preventDefault();const t=d.trim().toLowerCase();let s="";if(t==="help")s=["Commandes disponibles:","- ls: Lister les fichiers","- cat [fichier]: Lire un fichier","- ./blackhole: Lancer le programme","- whoami: Qui suis-je ?","- clear: Effacer le terminal","- help: Afficher cette aide"];else if(t==="ls")s=["about.txt","competences.txt","projets.txt","contact.txt","blackhole*"];else if(t==="./blackhole"){i(),m("");return}else if(t==="whoami")s="Tom Moreau - Développeur passionné d'infra et de code.";else if(t==="cat about.txt")s="Je suis un développeur passionné par l'administration système, le self-hosting et le développement d'applications modernes.";else if(t==="cat competences.txt")s=["Frontend: React, Astro, TailwindCSS","Backend: Node.js, Python","Infrastructure: Docker, Linux, Proxmox, Traefik"];else if(t==="cat projets.txt")s=["- NAS Low-Cost","- Vaultwarden Self-host","- HomeLab Proxmox"];else if(t==="cat contact.txt")s="Email: contact@tom-moreau.dev | GitHub: github.com/tom-moreau";else if(t==="clear"){o([]),m("");return}else t===""?s="":s=`Command not found: ${t}. Tapez "help" pour l'aide.`;o([...h,{command:d,output:s}]),m("")};return r.jsxs("div",{className:"w-full max-w-5xl mx-auto h-[750px] bg-transparent border border-cosmic-700/50 rounded-lg p-4 font-mono text-green-400 shadow-2xl flex flex-col overflow-hidden relative",onClick:()=>l.current?.focus(),children:[r.jsx("div",{className:`absolute inset-0 bg-black/90 -z-10 transition-opacity duration-1000 ${a?"opacity-0":"opacity-100"}`}),a&&r.jsxs("div",{className:"absolute inset-0 z-50 bg-transparent flex flex-col items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm -z-10"}),r.jsx("div",{className:"text-gray-300 font-mono whitespace-pre leading-[1.1] text-[10px] md:text-[12px] text-center w-full",children:Array.isArray(h[h.length-1].output)?h[h.length-1].output.map((e,t)=>r.jsx("div",{children:e},t)):null})]}),r.jsx("div",{className:`flex-1 overflow-y-auto mb-4 space-y-2 scrollbar-thin scrollbar-thumb-cosmic-700 ${a?"opacity-0":""}`,ref:n,children:h.map((e,t)=>r.jsxs("div",{className:"animate-in fade-in duration-300",children:[e.command&&r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"text-cosmic-500 font-bold",children:"tom@space:~$"}),r.jsx("span",{children:e.command})]}),r.jsx("div",{className:`text-gray-300 ml-4 ${e.command==="./blackhole"?"text-center font-mono whitespace-pre":""}`,children:Array.isArray(e.output)?e.output.map((s,p)=>r.jsx("div",{children:s},p)):r.jsx("div",{children:e.output})})]},t))}),r.jsxs("form",{onSubmit:f,className:"flex gap-2 items-center",children:[r.jsx("span",{className:"text-cosmic-500 font-bold shrink-0",children:"tom@space:~$"}),r.jsx("input",{ref:l,type:"text",value:d,disabled:a,onChange:e=>m(e.target.value),onKeyDown:c,className:`bg-transparent border-none outline-none flex-1 text-white caret-cosmic-500 w-full ${a?"opacity-50 cursor-not-allowed":""}`,autoFocus:!0})]})]})};export{k as default};
